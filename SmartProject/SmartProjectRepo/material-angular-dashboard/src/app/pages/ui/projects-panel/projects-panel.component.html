<div class="mdl-cell mdl-cell--6-col-desktop mdl-cell--6-col-tablet mdl-cell--4-col-phone" *ngIf="visibleProject" [@slideInOut]>
  <base-card>
    <base-card-title class="inherit">
    <div>
      <h1 class="mdl-card__title-text">Projekty</h1>
    </div>
    <div class="right">
      <span (click)="addProjectRedirect()" class="link"><i class="material-icons header-icon"><b>add</b></i><span class="add-conent-text">Nowy</span> </span>
    </div>
    </base-card-title>
    <base-card-body class="no-padding">
      <table class="mdl-data-table mdl-js-data-table bordered-table">
        <thead>
        <tr>
          <th *ngFor="let header of projectHeaders" class="mdl-data-table__cell--non-numeric">{{ header }}</th>
          <th style="text-align: center;">Wersje</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let row of projects; let i = index">
          <td *ngFor="let cell of row.slice(1, 3)" class="mdl-data-table__cell--non-numeric">{{ cell }}</td>
          <td class="mdl-data-table__cell--non-numeric" [ngSwitch]="row[3]">
              <span *ngSwitchCase="true" class="label label--mini color--green">Zakończone</span>
              <span *ngSwitchCase="false" class="label label--mini background-color--primary">Otwarty</span>
          </td>
          <td (click)="renderReleases(row[0], i)" style="cursor: pointer; text-align: center;"><i class="material-icons" >arrow_forward_ios</i></td>
        </tr>
        </tbody>
      </table>
    </base-card-body>
  </base-card>
</div>
<div class="mdl-cell mdl-cell--6-col-desktop mdl-cell--6-col-tablet mdl-cell--4-col-phone" *ngIf="visibleRelease" [@slideInOut]>
  <base-card>
    <base-card-title>
      <h1 class="mdl-card__title-text">{{ projectName }}</h1>
      <div class="right">
        <a><i class="material-icons header-icon"><b>add</b></i><span class="add-conent-text">Dodaj</span> </a>
      </div>
    </base-card-title>
    <base-card-body id="content" class="no-padding">
      <p *ngIf="!releases?.length > 0">Brak wersji dla tego projektu.</p>
      <table class="mdl-data-table mdl-js-data-table bordered-table" *ngIf="releases?.length > 0">
        <thead>
        <tr>
          <th *ngFor="let header of releaseHeaders" class="mdl-data-table__cell--non-numeric">{{ header }}</th>
          <th style="text-align: center;">Zgłoszenia</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let row of releases; let i = index">
          <td *ngFor="let cell of row.slice(0, 2)" class="mdl-data-table__cell--non-numeric">{{ cell}}</td>      
          <td *ngFor="let cell of row.slice(2, 3)" class="mdl-data-table__cell--non-numeric">{{ cell | slice:0:10 }}</td>    
          <td (click)="renderTasks(row[3], i)" style="cursor: pointer; text-align: center;"><i class="material-icons" >arrow_forward_ios</i></td>
        </tr>
        </tbody>
      </table>
    </base-card-body>
  </base-card>
</div>

<div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--12-col-tablet mdl-cell--4-col-phone" *ngIf="visibleTask" [@slideInOutRight] style="position: absolute;">
  <base-card>
    <base-card-title>
      <div style="cursor: pointer; padding: 0 15px;">
      <i (click)="slideToProjects()" class="material-icons">arrow_back_ios</i>
      </div>
      <h1 class="mdl-card__title-text">{{ projectName }} - {{ releaseName }}</h1>
      <div class="mdl-layout-spacer"></div>
      <base-pagination [numPage]="numPage"
                       [currentPage]="currentPage"
                       (changePage)="changePage($event)"></base-pagination>
    </base-card-title>
    <base-card-body class="no-padding">
      <table class="mdl-data-table mdl-js-data-table sorting-table">
        <thead>
        <tr>
          <th *ngFor="let header of taskHeaders; let i = index" class="mdl-data-table__cell--non-numeric"
              (click)="changeSorting(header, i)">
            <span>{{ header.name }}</span>
            <i *ngIf="header.sort !== null " class="material-icons sorting"
               [class.asc]="header.sort === sortOrder.asc"
               [class.active]="header.sort === sortOrder.asc || header.sort === sortOrder.desc">sort</i>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let row of tasksTable" (click)="goToTaskDetails(row[0])">
          <td *ngFor="let cell of row.slice(0,3)" class="mdl-data-table__cell--non-numeric">{{ cell }}</td>
          <!-- <td class="mdl-data-table__cell--non-numeric">
            <span *ngFor="let genre of Array(row[4])" class="label label--mini color--{{ genreColors[genre] }}">{{ genre }}</span>
          </td>
          <td *ngFor="let cell of row[6].slice(1,2)" class="mdl-data-table__cell--non-numeric">{{ cell }}</td>
          <td *ngFor="let cell of Array(row[3])" class="mdl-data-table__cell--non-numeric">{{ cell | slice:0:10}}</td>
          <td *ngFor="let cell of row[5].slice(1,2)" class="mdl-data-table__cell--non-numeric">{{ cell }}</td>
          <td class="mdl-data-table__cell--non-numeric">
            <span *ngFor="let item of Array(row[5][0])" class="label label--mini label__availability"
                  [class.background-color--secondary]="row[5][0] === 1"
                  [class.color--orange]="row[5][0] === 2"
                  [class.background-color--primary]="row[5][0] === 4"
                  [class.color--green]="row[5][0] === 3"></span>
            <span *ngFor="let i of Array(8 - row[5][0])" class="label label--mini label__availability"></span>
          </td> -->
          <!-- <td class="mdl-data-table__cell--non-numeric">project</td> -->
        </tr>
        </tbody>
      </table>
    </base-card-body>
  </base-card>
</div>
